<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Download EIDITH data to local storage — ed_db_download • EIDITH</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Download EIDITH data to local storage — ed_db_download" />

<meta property="og:description" content="This function fetches all available tables from the EIDITH database and
caches the data locally for further use with the table functions.
The database persists between R sessions, so you only need to run this when
you want to update data.  You should also run it when updating to new
versions of the eidith package." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eidith</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/eidith.html">Installation / Authentication / Downloading Database</a>
    </li>
    <li>
      <a href="../articles/preprocessing.html">Automatic Data Processing / Raw Data</a>
    </li>
    <li>
      <a href="../articles/data_structure.html">PREDICT-1 Database Structure / Table Joining</a>
    </li>
    <li>
      <a href="../articles/fasta_walkthrough.html">PREDICT-1 Generating Reports and FASTA</a>
    </li>
    <li>
      <a href="../articles/eidith_API.html">PREDICT-1 Web API Details</a>
    </li>
    <li>
      <a href="../articles/p2_data_structure.html">PREDICT-2 Database Structure / Table Joining</a>
    </li>
    <li>
      <a href="../articles/multi_response_fields.html">PREDICT-2 Multiple Response Fields</a>
    </li>
    <li>
      <a href="../articles/eidith_r_training.pdf">EIDITH - R Package Workshop Slides</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Release Notes</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ecohealthalliance/eidith">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Download EIDITH data to local storage</h1>
    <small>Source: <a href='https://github.com/ecohealthalliance/eidith/blob/master/R/database.R'><code>R/database.R</code></a></small>
    <div class="hidden name"><code>ed_db_download.Rd</code></div>
    </div>

    
    <p>This function fetches all available tables from the EIDITH database and
caches the data locally for further use with the <a href='ed_table.html'>table functions</a>.
The database persists between R sessions, so you only need to run this when
you want to update data.  You should also run it when updating to new
versions of the <strong>eidith</strong> package.</p>
    

    <pre class="usage"><span class='fu'>ed_db_download</span>(<span class='kw'>p1_tables</span> <span class='kw'>=</span> <span class='fu'>p1_api_endpoints</span>(),
  <span class='kw'>p2_tables</span> <span class='kw'>=</span> <span class='fu'>p2_api_endpoints</span>(), <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fu'>interactive</span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>p1_tables</th>
      <td><p>Which PREDICT-1 tables to download</p></td>
    </tr>
    <tr>
      <th>p2_tables</th>
      <td><p>which PREDICT-2 tables to download</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Show messages while in progress?</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function does a few things:</p><ul>
<li><p>Fetches all tables from both EIDITH PREDICT-1 and PREDICT-2 databases.</p></li>
<li><p>Cleans and pre-processes the data with <code><a href='ed_process.html'>ed_process()</a></code>.</p></li>
<li><p>Stores the data in an SQLite database in your <a href='http://www.rdocumentation.org/packages/rappdirs/topics/user_data_dir'>user data directory</a>.</p></li>
</ul>
    <p>Each time this function is run it checks for updated metadata about database tables,
then downloads each table into a temporary database and makes sure that the
structure of these tables is as expected. Only well-formed tables will be copied
into the user's permanent database. If a downloaded table is missing fields, has
extra fields, or is otherwise corrupted, the user will receive an error message.
In the future, we will allow for updating only with new and changed records.</p>
<p>The function will prompt for username and password unless you have <a href='ed_auth.html'>cached your credentials</a>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>ed_db_status()</code>, <code>ed_db_updates()</code>, <code><a href='ed_db_export.html'>ed_db_export()</a></code></p></div>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Noam Ross, Nistara Randhawa, Cale Basaraba.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

